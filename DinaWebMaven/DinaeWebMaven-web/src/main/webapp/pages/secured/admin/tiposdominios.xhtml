<!DOCTYPE html>
<ui:composition 
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:p="http://primefaces.org/ui"
  template="/templates/plantillaPrincipal.xhtml">
  <ui:define
    name="content">
    <p:panel 
      id="main"
      styleClass="ui-fluid">
      <h:form
        id="frmlist"
        prependId="false">
        <h:outputText 
          value="#{bundle['dominiotipo.title.list']}"/>
        <p:separator />
        <p:panel
          id="pnlbtns">
          <p:panelGrid
            columns="6"
            layout="grid" 
            columnClasses="ui-grid-col-2,ui-grid-col-2,ui-grid-col-2,ui-grid-col-2,ui-grid-col-2,ui-grid-col-2" 
            styleClass="ui-panelgrid-blank">
            <p:commandButton 
              id="btnCreate" 
              value="#{bundle['commons.btn.new']}"
              title="#{bundle['commons.btn.new']}"
              icon="ui-icon-document"
              action="#{tipoDominioController.onCreate()}"/>
            <p:commandButton 
              value="#{bundle['commons.btn.refresh']}"
              title="#{bundle['commons.btn.refresh']}"
              icon="ui-icon-refresh"
              actionListener="#{tipoDominioController.loadList()}"
              disabled="#{tipoDominioController.editable}"
              update="dtlist"/>
          </p:panelGrid>
        </p:panel>
        <p:dataTable 
          id="dtlist"
          value="#{tipoDominioController.list}"
          var="record"
          paginator="true" 
          paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
          rows="10"
          rowsPerPageTemplate="10,50,100"
          reflow="true"> 
          <p:column 
            headerText="#{bundle['dominiotipo.nombre']}"
            sortBy="#{record.nombre}">
            <p:commandLink 
              title="#{bundle['commons.lbl.view.detail']}"
              action="#{tipoDominioController.onRowSelect()}">
              <f:setPropertyActionListener 
                value="#{record}" 
                target="#{tipoDominioController.selected}" />
              <h:outputText 
                value="#{record.nombre}"/>
            </p:commandLink>
          </p:column>
          <p:column 
            headerText="#{bundle['dominiotipo.descripcion']}"
            sortBy="#{record.descripcion}">
            <p:commandLink 
              title="#{bundle['commons.lbl.view.detail']}"
              action="#{tipoDominioController.onRowSelect()}">
              <f:setPropertyActionListener 
                value="#{record}" 
                target="#{tipoDominioController.selected}" />
              <h:outputText 
                value="#{record.descripcion}"/>
            </p:commandLink>
          </p:column>
        </p:dataTable>
      </h:form>
    </p:panel>
  </ui:define>
</ui:composition>